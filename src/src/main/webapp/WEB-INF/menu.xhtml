<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pu="http://primefaces.org/ultima">
    
    <h:form id="menuform"> 
        <div class="layout-menu #{guestPreferences.menuClass}">
            <div class="nano">
                <div class="nano-content menu-scroll-content">
                    <ui:fragment rendered="#{guestPreferences.profileMode == 'inline' and guestPreferences.menuLayout != 'menu-layout-static menu-layout-horizontal'}">
                        <div class="profile">
                            <div class="profile-image" style="width:22px; height: 20px;background-size: 22px 20px"></div>
                            <a id="profile-options" href="#">
                                <span class="profile-name">#{userContextService.userName}</span>
                                <i class="material-icons">&#xE313;</i>
                            </a>
                        </div>
                    
                        <ul id="profile-menu" class="ultima-menu">
                            <li role="menuitem">
                                <a href="#{facesContext.externalContext.requestContextPath}/portal/profile.xhtml">
                                    <i class="material-icons">person</i>
                                    <span>#{msg.Profile}</span>
                                </a>
                            </li>
                            <li role="menuitem">
                                <h:panelGroup rendered="#{localeService.language eq 'zh'}">
                                    <a href="#{request.requestURL}?locale=en" class="ripplelink">
                                        <i class="material-icons">translate</i>
                                        <span>English</span>
                                    </a>
                                </h:panelGroup>
                            </li>
                            <li role="menuitem">
                                <h:panelGroup rendered="#{localeService.language eq 'en'}">
                                    <a href="#{request.requestURL}?locale=zh" class="ripplelink">
                                        <i class="material-icons">translate</i>
                                        <span>中文</span>
                                    </a>
                                </h:panelGroup>
                            </li>
                            
                            <li role="menuitem">
                                <a href="#{facesContext.externalContext.requestContextPath}/logout.xhtml" class="ripplelink">
                                    <i class="material-icons">&#xE8AC;</i>
                                    <span>#{msg.logout}</span>
                                </a>
                            </li>
                        </ul>
                    </ui:fragment>
                    
                    <pu:menu widgetVar="me">
                        <p:menuitem id="um_dashboard" value="#{msg.HomePage}" icon="&#xE871;" outcome="#{userContextService.userDefaultHomePage}"/>
                        <p:submenu label="#{msg.AssetMDM}" icon="fa fa-folder-open-o">
                            <p:menuitem value="#{msg.AssetList}" outcome="/portal/asset/info/List"/>
                            <p:menuitem value="#{msg.AssetInventory}" outcome="/empty"/>
                            <p:menuitem value="#{msg.AssetDocumentMgmt}" outcome="/portal/asset/fileAttachment/List"/>
                            <p:menuitem value="#{msg.AssetValueAnalysis}" outcome="/empty"/>
                            <p:menuitem value="#{msg.AssetContractMgmt}" rendered="false" style="color: orange;" outcome="/empty"/>
                            <p:menuitem value="#{msg.SupplierMgmt}" rendered="false" style="color: orange;" outcome="/empty"/>
                        </p:submenu>
                        <p:submenu label="#{msg.WorkOrderMgmt}" icon="fa fa-wrench">
                            <p:menuitem value="#{msg.ServiceRequestMgmt}" outcome="/portal/wo/woList"/>
                            <p:menuitem value="#{msg.MyWorkOrder}" outcome="/portal/wo/myWoList.xhtml"/>
                            <p:menuitem value="#{msg.MaintainanceRecord}" outcome="/empty"/>
                            <p:menuitem value="#{msg.ServiceQualityReview}" outcome="/empty" rendered="#{userContextService.hasRole('AssetStaff')}"/>
                            <p:menuitem value="#{msg.Inspection}" outcome="/empty"/>
                        </p:submenu>
                        <p:submenu label="#{msg.DeviceMonitor}" icon="fa fa-bell-o">
                            <p:menuitem value="#{msg.DeviceStatusMonitor}" outcome="/empty"/>
                            <p:menuitem value="#{msg.DeviceDowntimeAnalysis}" outcome="/empty"/>
                            <p:menuitem value="#{msg.DeviceMaintainanceEventAnalysis}" outcome="/portal/analysis/assetMaintenanceAll"/>
                            <p:menuitem value="#{msg.DeviceMaintainanceCostAnalysis}" outcome="/empty"/>
                            <p:menuitem value="#{msg.DeviceUtilizationAnalysis}" outcome="/portal/analysis/assetUsageAll"/>
                            <p:menuitem value="#{msg.SparePartsConsumptionAnalysis}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceFailureAnalysis}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceOperationMonitor}" outcome="/home"/>
                        </p:submenu>
                        <p:submenu label="#{msg.PreventiveMaintainceMgmt}" icon="fa fa-check-square-o">
                            <p:menuitem value="#{msg.PmRecord}" outcome="/portal/pm/List.xhtml"/>
                            <p:menuitem value="#{msg.PreventiveMaintaincePlanning}" outcome="/portal/analysis/assetProactiveMaintenanceAll"/>
                            <p:menuitem value="#{msg.DeviceMetrologyMgmt}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceQualityControl}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceAdverseEventMgmt}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceMedicalAccidentMgmt}" rendered="false" style="color: orange;" outcome="/home"/>
                        </p:submenu>
                        <p:submenu label="#{msg.AssetKnowledgeBaseMgmt}" icon="fa fa-book">
                            <p:menuitem value="#{msg.AssetDocMgmt}" outcome="/home"/>
                            <p:menuitem value="#{msg.AssetKMMgmt}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceMgmtForum}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceApplication}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceUpgradMgmt}" rendered="false" style="color: orange;" outcome="/home"/>
                            <p:menuitem value="#{msg.AdvancedDeviceInfoTracking}" rendered="false" style="color: orange;" outcome="/home"/>
                        </p:submenu>
                        <p:submenu label="#{msg.DeviceOperationKPIAnalysis}" icon="fa fa-bar-chart">
                            <p:menuitem value="#{msg.DeviceROIAnalysis}" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceKPIAnalysis}" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceKPIForecast}" outcome="/home"/>
                            <p:menuitem value="#{msg.DeviceCostAnalysis}" outcome="/home"/>
                            <p:menuitem value="#{msg.DevicePurchaseDecisionSupport}" outcome="/home"/>
                        </p:submenu>
                        <p:submenu label="#{msg.SysAdmin}" icon="fa fa-user">
                            <p:menuitem value="#{msg.SiteAdmin}" outcome="/admin/uaa/siteInfo/List.xhtml"/>
                            <p:menuitem value="#{msg.OrgAdmin}" outcome="/portal/uaa/orgInfo/List.xhtml"/>
                            <p:menuitem value="#{msg.UserAdmin}" outcome="/portal/uaa/userAccount/List.xhtml"/>
                            <p:menuitem value="Code Tool" outcome="/admin/codegen/codegen.xhtml"/>
                            <p:menuitem value="Demo Chart" outcome="/ui/demo.xhtml"/>
                            <p:menuitem value="Icon List" outcome="/utils"/>
                        </p:submenu>
                    </pu:menu>
                </div>
            </div>
        </div>
    </h:form>
</ui:composition>