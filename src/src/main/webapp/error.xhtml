<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"	
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:appcc="http://java.sun.com/jsf/composite/components"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <ui:composition template="/layout/main.xhtml">
        <ui:define name="body" >
            <p:messages/>
            <h2>Sorry, an error occurred, please try again or report this error to system administrator.</h2> 
            <p:fieldset legend="Error information">
                <h:panelGrid columns="2">		
                    <h:outputText value="User agent" /> <h:outputText value="#{header['user-agent']}" />
                    <h:outputText value="Ajax request" /> <h:outputText value="#{facesContext.partialViewContext.ajaxRequest ? 'Yes' : 'No'}" />
                    <h:outputText value="Status code" /> <h:outputText value="#{requestScope['javax.servlet.error.status_code']}" />
                    <h:outputText value="Exception type" /> <h:outputText value="#{requestScope['javax.servlet.error.exception_type']}" />
                    <h:outputText value="Exception message" /><h:outputText value="#{requestScope.errorMessage}"/>;<h:outputText value="#{requestScope['javax.servlet.error.message']}" />
                    <h:outputText value="Stack trace" /> <pre><code>#{requestScope['javax.servlet.error.exception']}</code></pre>
                </h:panelGrid>
            </p:fieldset>
        </ui:define>
    </ui:composition>
</html>