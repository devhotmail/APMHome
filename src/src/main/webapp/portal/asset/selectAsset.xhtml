<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
            <meta name="theme-color" content="#{guestPreferences.themeColors[guestPreferences.theme]}" />
        </f:facet>
        <title>selectAsset</title>
        <h:outputScript name="js/nanoscroller.js" library="ultima-layout" />
        <h:outputScript name="js/layout.js" library="ultima-layout" />
        <h:outputScript name="js/ripple.js" library="ultima-layout" />
        <h:outputScript name="js/swipe.js" library="ultima-layout" />
        <h:outputStylesheet name="css/main.css" />
        <h:outputScript name="js/main.js" />
        <style type="text/css">
            .ui-growl{
            top: 0!important;
            right: 0!important;
            }
        </style>
    </h:head>

    <h:body styleClass="main-body #{guestPreferences.compact ? 'layout-compact' : null}">
        <h:form id="AssetInfoListForm">
            <p:dataTable id="datalist" value="#{selectAssetController.lazyModel}" var="item" widgetVar="varDataList"
                         selectionMode="single" selection="#{selectAssetController.selected}"
                         lazy="true" paginator="true" paginatorPosition="top" paginatorAlwaysVisible="true"
                         rowKey="#{item.id}" sortMode="single" sortOrder="descending" sortBy="#{item.id}"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} #{msg.RowsPerPage}: {RowsPerPageDropdown}"
                         currentPageReportTemplate="#{msg.recordCount}: {totalRecords}" pageLinks="5"
                         rows="20" emptyMessage="#{msg.noRecordFound}"
                         rowsPerPageTemplate="20,40,60,90">

                <p:ajax event="rowSelect" update=""/>
                <p:ajax event="filter" listener="#{assetInfoController.onFilter}" update=""/>

                <p:column headerText="#{msg.name}" sortBy="#{item.name}" filterBy="#{item.name}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.name}"/>
                </p:column>
                <p:column headerText="#{msg.manufacture}" sortBy="#{item.manufacture}" filterBy="#{item.manufacture}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.manufacture}"/>
                </p:column>
                <p:column headerText="#{msg.vendor}" sortBy="#{item.vendor}" filterBy="#{item.vendor}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.vendor}"/>
                </p:column>
                <p:column headerText="#{msg.maitanance}" sortBy="#{item.maitanance}" filterBy="#{item.maitanance}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.maitanance}"/>
                </p:column>
                <p:column headerText="#{msg.maitananceTel}" sortBy="#{item.maitananceTel}" filterBy="#{item.maitananceTel}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.maitananceTel}"/>
                </p:column>
                <p:column headerText="#{msg.serialNum}" sortBy="#{item.serialNum}" filterBy="#{item.serialNum}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.serialNum}"/>
                </p:column>
                <p:column headerText="#{msg.departNum}" sortBy="#{item.departNum}" filterBy="#{item.departNum}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.departNum}"/>
                </p:column>
                <p:column headerText="#{msg.financingNum}" sortBy="#{item.financingNum}" filterBy="#{item.financingNum}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.financingNum}"/>
                </p:column>
                <p:column headerText="#{msg.barcode}" sortBy="#{item.barcode}" filterBy="#{item.barcode}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.barcode}"/>
                </p:column>
                <p:column headerText="#{msg.locationName}" sortBy="#{item.locationName}" filterBy="#{item.locationName}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.locationName}"/>
                </p:column>
                <p:column headerText="#{msg.clinicalDeptName}" sortBy="#{item.clinicalDeptName}" filterBy="#{item.clinicalDeptName}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.clinicalDeptName}"/>
                </p:column>
                <p:column headerText="#{msg.assetGroup}" sortBy="#{item.assetGroup}" filterBy="#{item.assetGroup}" filterMatchMode="EQ">
                    <h:outputText value="#{item.assetGroup}"/>
                </p:column>
                <p:column headerText="#{msg.assetOwnerName}" sortBy="#{item.assetOwnerName}" filterBy="#{item.assetOwnerName}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.assetOwnerName}"/>
                </p:column>
                <p:column headerText="#{msg.assetOwnerTel}" sortBy="#{item.assetOwnerTel}" filterBy="#{item.assetOwnerTel}" filterMatchMode="LIKE">
                    <h:outputText value="#{item.assetOwnerTel}"/>
                </p:column>
            </p:dataTable>
            
            <br/><br/>
            <p:growl id="growl" autoUpdate="true" showDetail="false"/>

            <p:commandButton value="#{msg.Confirm}" icon="ui-icon-check" update="growl" actionListener="#{selectAssetController.closeDialog()}"/>
            <p:commandButton immediate="true" value="#{msg.Cancel}" icon="ui-icon-cancel" actionListener="#{selectAssetController.cencelDialog()}"/>
        </h:form>

        <h:outputStylesheet name="css/nanoscroller.css" library="ultima-layout" />
        <h:outputStylesheet name="css/animate.css" library="ultima-layout" />
        <h:outputStylesheet name="css/ripple.css" library="ultima-layout" />
        <h:outputStylesheet name="css/layout-#{guestPreferences.theme}.css" library="ultima-layout" />
    </h:body>
</html>
